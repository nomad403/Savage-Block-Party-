@import "tailwindcss";

/* Fonts */
@font-face {
	font-family: 'Hanson';
	font-style: normal;
	font-weight: 700;
	font-display: swap;
	src: url('/fonts/hanson/Hanson-Bold.ttf') format('truetype'),
		 url('/fonts/hanson/Hanson-Bold.otf') format('opentype');
}

:root {
	--logo-color: #ff6a00;
	--background: #0a0a0a;
	--foreground: var(--logo-color);
	--muted: #9a9a9a;
	--font-title: 'Hanson', system-ui, sans-serif;
	--font-text: 'Satoshi', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
	
	/* Variables pour couleurs dynamiques */
	--dynamic-primary: #FACC15;
	--dynamic-primary-hover: #EAB308;
	--dynamic-primary-faded: rgba(250,204,21,0.3);
	--dynamic-menu-color: #FACC15;
	--dynamic-menu-hover-bg: #079fce;
	--dynamic-menu-hover-text: #000000;
	--dynamic-logo-color: #ff6a00;
	--dynamic-scrollbar-color: #FACC15;
	--dynamic-scrollbar-hover: #EAB308;
	--dynamic-noise-overlay: rgba(255,255,255,.035);
	--dynamic-grid-lines: rgba(255,255,255,.05);
}

@media (prefers-color-scheme: light) {
	:root {
		--background: #ffffff;
	}
}

@theme inline {
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-muted: var(--muted);
	--radius: 12px;
}

html, body {
	height: 100%;
	overflow-x: hidden;
	overflow-y: auto; /* Permettre le scroll vertical */
	/* Masquer la scrollbar native par défaut, mais permettre le scroll */
	scrollbar-width: none; /* Firefox */
	-ms-overflow-style: none; /* IE/Edge */
}

html::-webkit-scrollbar,
body::-webkit-scrollbar {
	display: none; /* Chrome/Safari */
	width: 0;
	height: 0;
	background: transparent;
}

body {
	background: var(--background);
	color: var(--foreground);
	font-family: var(--font-text);
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Désactiver le scroll sur la home */
body.no-scroll {
	overflow: hidden !important;
	height: 100vh !important;
}

html.no-scroll {
	overflow: hidden !important;
	height: 100vh !important;
}

.font-title { font-family: var(--font-title); }
.font-text { font-family: var(--font-text); }

/* Layout helpers */
.container-px {
	padding-left: clamp(16px, 5vw, 48px);
	padding-right: clamp(16px, 5vw, 48px);
}

/* Visual textures */
.noise-overlay {
	position: fixed;
	pointer-events: none;
	inset: 0;
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.65' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.035'/%3E%3C/svg%3E");
	z-index: 10;
}

.grid-lines {
	background-image: linear-gradient(to right, rgba(255,255,255,.05) 1px, transparent 1px), linear-gradient(to bottom, rgba(255,255,255,.05) 1px, transparent 1px);
	background-size: 40px 40px;
	mask-image: radial-gradient(ellipse at center, black 35%, transparent 70%);
}

    /* Masquer complètement les contrôles YouTube */
    iframe[src*="youtube.com"] {
    	pointer-events: none !important;
    }

    /* Styliser le widget SoundCloud */
    iframe[src*="soundcloud.com"] {
    	border-radius: 12px !important;
    	background: transparent !important;
    }

    /* Overlay pour harmoniser avec notre design */
    .soundcloud-container {
    	position: relative;
    	background: rgba(0, 0, 0, 0.8);
    	backdrop-filter: blur(8px);
    	border: 1px solid rgba(255, 106, 0, 0.3);
    	border-radius: 12px;
    	overflow: hidden;
    }

iframe[src*="youtube.com"]::-webkit-media-controls {
	display: none !important;
}

/* Menu link hover effect avec couleurs dynamiques */
.menu-link {
	position: relative;
	display: flex; /* permet le centrage vertical */
	align-items: center; /* centrage vertical du texte */
	justify-content: flex-end; /* aligné à droite */
	padding: 0.5rem 0.75rem; /* un tout petit padding pour coller visuellement */
	color: var(--dynamic-menu-color);
	overflow: hidden;
	transition: color 0.35s ease;
}
.menu-link::before {
	content: '';
	position: absolute;
	top: 0; left: 0; right: 0; bottom: 0; /* couvre toute la hauteur */
	background: var(--dynamic-menu-hover-bg);
	transform: translateX(100%);
	transition: transform 0.35s ease;
	pointer-events: none;
	will-change: transform;
}
.menu-link:hover::before,
.menu-link:focus-visible::before,
.menu-link:active::before {
	transform: translateX(0);
}
.menu-link > span { position: relative; z-index: 1; display: inline-block; }
.menu-link:hover > span,
.menu-link:focus-visible > span { color: var(--dynamic-menu-hover-text); }

/* Menu sur page agenda - couleurs inversées */
.menu-link-agenda {
	color: #000000; /* Noir par défaut sur agenda */
}

.menu-link-agenda:hover > span,
.menu-link-agenda:focus-visible > span { 
	color: #FACC15; /* Jaune au hover sur agenda */
}

/* Menu sur page story - fond jaune */
.menu-link-story::before {
	background: #FACC15 !important; /* Fond jaune pour story */
}

/* Menu sur page family - fond jaune */
.menu-link-family::before {
	background: #FACC15 !important; /* Fond jaune pour family */
}

/* Menu sur page presse - fond jaune */
.menu-link-presse::before {
	background: #FACC15 !important; /* Fond jaune pour presse */
}

/* Animation IN/OUT pour le player compact sur agenda */
.player-compact-agenda {
	position: relative;
	overflow: hidden;
	padding: 0.5rem;
	border-radius: 0.5rem;
	width: fit-content;
}

.player-compact-agenda::before {
	content: '';
	position: absolute;
	top: 0; left: 0; right: 0; bottom: 0;
	background: #22D3EE; /* Cyan-400 (même couleur que le footer story) */
	transform: translateX(-100%);
	transition: transform 0.35s ease;
	pointer-events: none;
	will-change: transform;
	z-index: 1;
	border-radius: 0.5rem;
}

/* Page family - fond vert pour les boutons du player */
body:has(#family-root) .player-compact-agenda::before {
	background: #22C55E; /* Green-500 (même couleur que le footer family) */
}

/* Page shop - fond rouge pour les boutons du player */
body:has(#shop-root) .player-compact-agenda::before {
	background: #EF4444; /* Red-500 (même couleur que le footer shop) */
}

/* Page presse - waveform en violet (même couleur que le footer) */
body:has(#presse-root) #sbp-footer-waveform > div > div > div {
	background-color: #A855F7 !important; /* Purple-500 */
}
/* Assurer que les barres jouées restent visibles sur presse */
body:has(#presse-root) #sbp-footer-waveform [class*="bg-purple-500"] {
	opacity: 1 !important;
	background-color: #A855F7 !important;
}
/* Barres non jouées avec opacité réduite */
body:has(#presse-root) #sbp-footer-waveform [class*="bg-purple-500/50"] {
	opacity: 0.5 !important;
	background-color: rgba(168, 85, 247, 0.5) !important;
}

/* Page presse - fond violet pour les boutons du player */
body:has(#presse-root) .player-compact-agenda::before {
	background: #A855F7; /* Purple-500 (même couleur que le footer presse) */
}

.player-compact-agenda.animate-in::before {
	transform: translateX(0);
}

.player-compact-agenda.animate-out::before {
	transform: translateX(100%);
}

.player-compact-agenda > * {
	position: relative;
	z-index: 2;
}


.logo-tint-black {
	filter: brightness(0) saturate(100%);
}

.logo-tint-cyan {
	filter: brightness(0) saturate(100%) invert(70%) sepia(100%) saturate(2000%) hue-rotate(180deg) brightness(1.2);
}

.logo-tint-green {
	filter: brightness(0) saturate(100%) invert(67%) sepia(100%) saturate(3000%) hue-rotate(90deg) brightness(1.1);
}

.logo-tint-purple {
	filter: brightness(0) saturate(100%) invert(35%) sepia(100%) saturate(1000%) hue-rotate(240deg) brightness(1.2);
}

/* Animation de révélation de texte ligne par ligne */
.text-reveal-line {
	position: absolute;
	overflow: hidden;
	z-index: -1;
	padding: 0 10px 0 8px;
}

/* Page presse - reveal line en violet */
body:has(#presse-root) .text-reveal-line::before {
	background: #A855F7 !important;
}

.text-reveal-line::before {
	content: '';
	position: absolute;
	top: 0; left: 0; right: 0; bottom: 0;
	background: #22D3EE;
	transform: translateX(-100%);
	transition: transform 0.6s ease;
	pointer-events: none;
	will-change: transform;
}

.text-reveal-line.animate-in::before {
	transform: translateX(0);
}

/* Calendar grid lines - black */
.calendar-lines {
	position: relative;
}
.calendar-lines::after {
	content: '';
	position: absolute;
	inset: 0;
	pointer-events: none;
	background-image:
		linear-gradient(to right, rgba(0,0,0,0.85) 1px, transparent 1px),
		linear-gradient(to bottom, rgba(0,0,0,0.85) 1px, transparent 1px);
	background-size: 48px 48px; /* cell size */
}

/* Agenda: grille sans décalage (inspiration CalArts 2024)
   On dessine les lignes avec un overlay pour garantir l'alignement, 
   au lieu d'utiliser des bordures sur chaque cellule. */
.calendar-grid-lines {
    background-image:
        linear-gradient(to right, rgba(0,0,0,0.85) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(0,0,0,0.85) 1px, transparent 1px);
    background-size: calc(100% / 7) 100%, 100% calc(100% / 6);
    background-position: left top;
    z-index: 0;
}

/* Agenda 13x7 overlay */
.grid-lines-13x7 {
    border: 1px solid #000;
    border-bottom: none;
    background-image:
        repeating-linear-gradient(to right, transparent, transparent calc(100% / 13 - 1px), #000 calc(100% / 13 - 1px), #000 calc(100% / 13)),
        repeating-linear-gradient(to bottom, transparent, transparent calc(100% / 7 - 1px), #000 calc(100% / 7 - 1px), #000 calc(100% / 7));
    background-position: 0 0;
    background-size: auto;
}

/* Centre scroll: 7x6 grid overlay */
.grid-lines-7x6 {
    background-image:
        repeating-linear-gradient(to right, #000, #000 1px, transparent 1px, transparent calc(100% / 7)),
        repeating-linear-gradient(to bottom, #000, #000 1px, transparent 1px, transparent calc(100% / 6));
    background-position: 0 0;
    background-size: auto;
    box-shadow: inset 0 0 0 1px #000;
}

/* Normalise la box-sizing pour éviter tout décalage dû aux bordures */
.calendar-case { 
    box-sizing: border-box; 
}

/* Reset spécifique uniquement pour les divs d'images dans les cases */
.calendar-case div[aria-hidden="true"] {
    margin: 0;
    padding: 0;
    border: none;
    outline: none;
    font-size: 0;
    line-height: 0;
    display: block;
    transform: translateZ(0);
    backface-visibility: hidden;
}

/* Masquer la scrollbar (cross-browser) */
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
.no-scrollbar::-webkit-scrollbar { display: none; }

/* Scrollbar custom transparente avec couleur header */
html.scrollable-page,
body.scrollable-page {
	/* Masquer la scrollbar native complètement */
	scrollbar-width: none !important; /* Firefox */
	-ms-overflow-style: none !important; /* IE/Edge */
	/* Permettre le scroll vertical mais masquer la scrollbar */
	overflow-y: auto !important;
	overflow-x: hidden !important;
	height: auto !important; /* Permettre à la hauteur de dépasser 100vh */
}

/* Masquer la scrollbar WebKit (Chrome/Safari/Edge) sur html et body */
html.scrollable-page::-webkit-scrollbar,
body.scrollable-page::-webkit-scrollbar {
	display: none !important;
	width: 0 !important;
	height: 0 !important;
	background: transparent !important;
}

/* Masquer aussi sur les éléments de scroll potentiels */
html.scrollable-page *::-webkit-scrollbar,
body.scrollable-page *::-webkit-scrollbar {
	display: none !important;
	width: 0 !important;
	height: 0 !important;
}

/* Scrollbar custom pour pages scrollables */
.custom-scrollbar {
	position: fixed;
	top: 0;
	right: 0;
	width: 8px;
	height: 100vh;
	z-index: 9999;
	pointer-events: none;
}

.custom-scrollbar-track {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: transparent;
}

.custom-scrollbar-thumb {
	position: absolute;
	left: 0;
	width: 100%;
	background: #000000; /* Noir comme les éléments du header */
	border-radius: 4px;
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	transform-origin: center;
	will-change: transform, border-radius;
}

/* Effet gooey vertical au scroll */
.custom-scrollbar-thumb.scrolling {
	transform: scaleY(1.5);
	border-radius: 50% 50% 20% 20%;
}

.custom-scrollbar-thumb.scrolling-fast {
	transform: scaleY(2.2);
	border-radius: 60% 60% 10% 10%;
	background: rgba(0, 0, 0, 0.8);
}

.custom-scrollbar-thumb:hover {
	background: #333333; /* Gris foncé au hover */
}

/* Couleurs spécifiques selon la page avec variables dynamiques */
body.scrollable-page.home .custom-scrollbar-thumb {
	background: var(--dynamic-scrollbar-color) !important; /* Couleur dynamique sur home */
}

body.scrollable-page.home .custom-scrollbar-thumb:hover {
	background: var(--dynamic-scrollbar-hover) !important; /* Couleur dynamique au hover */
}

body.scrollable-page.agenda .custom-scrollbar-thumb {
	background: #000000; /* Noir sur agenda */
}

body.scrollable-page.agenda .custom-scrollbar-thumb:hover {
	background: #333333; /* Gris foncé au hover */
}

/* Page shop - désactiver la scrollbar par défaut sur body */
body:has(#shop-root) {
	-ms-overflow-style: none !important;
	scrollbar-width: none !important;
	overflow: hidden !important; /* Empêcher le scroll du body */
}

body:has(#shop-root)::-webkit-scrollbar {
	width: 0px !important;
	background: transparent !important;
	display: none !important;
}

/* Page shop - Activer la scrollbar personnalisée rouge et la positionner entre header et footer */
body:has(#shop-root).scrollable-page .custom-scrollbar {
	display: block !important;
	pointer-events: auto !important;
	/* Positionner entre le header et le footer */
	top: 140px !important; /* Hauteur du header */
	height: calc(100vh - 140px - 200px) !important; /* 100vh - header - footer approximatif */
	bottom: auto !important;
	right: 0 !important;
}

body:has(#shop-root) .custom-scrollbar-thumb {
	background: #000000 !important;
}

body:has(#shop-root) .custom-scrollbar-thumb:hover {
	background: #333333 !important;
}

body:has(#presse-root) .custom-scrollbar-thumb {
	background: #A855F7 !important;
}

body:has(#presse-root) .custom-scrollbar-thumb:hover {
	background: #9333EA !important;
}

/* Page shop - Supprimer la scrollbar de la colonne de produits */
body:has(#shop-root) .product-column {
	-ms-overflow-style: none !important;
	scrollbar-width: none !important;
}

body:has(#shop-root) .product-column::-webkit-scrollbar {
	display: none !important;
	width: 0 !important;
	background: transparent !important;
}

/* Page shop - header avec fond rouge */
body:has(#shop-root) header {
	background-color: #EF4444 !important;
	padding-top: 40px !important;
	padding-bottom: 20px !important;
	min-height: 140px !important;
	height: 140px !important;
	box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
}

body:has(#shop-root) header,
body:has(#shop-root) header *,
body:has(#shop-root) header span {
	color: #000000 !important;
}

/* Page shop - footer : texte en rouge, fond en noir */
body:has(#shop-root) footer,
body:has(#shop-root) footer * {
	color: #EF4444 !important;
}

/* Page shop - fond du footer en noir */
body:has(#shop-root) footer {
	background-color: #000000 !important;
}
body:has(#shop-root) footer > div {
	background-color: #000000 !important;
}
body:has(#shop-root) footer > div > div:nth-child(2) {
	background-color: #000000 !important;
	box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3) !important;
}

/* Page shop - waveform en noir avec progression visible */
body:has(#shop-root) #sbp-footer-waveform > div > div > div {
	background-color: #000000 !important;
}
/* Assurer que les barres jouées restent visibles sur shop */
body:has(#shop-root) #sbp-footer-waveform [class*="bg-black"] {
	opacity: 1 !important;
}
/* Barres non jouées avec opacité réduite */
body:has(#shop-root) #sbp-footer-waveform [class*="bg-black/30"] {
	opacity: 0.3 !important;
}

/* Page story - waveform en cyan (même couleur que le footer) */
body:has(#story-root) #sbp-footer-waveform > div > div > div {
	background-color: #22D3EE !important; /* Cyan-400 */
}
/* Assurer que les barres jouées restent visibles sur story */
body:has(#story-root) #sbp-footer-waveform [class*="bg-cyan-400"] {
	opacity: 1 !important;
	background-color: #22D3EE !important;
}
/* Barres non jouées avec opacité réduite */
body:has(#story-root) #sbp-footer-waveform [class*="bg-cyan-400/50"] {
	opacity: 0.5 !important;
	background-color: rgba(34, 211, 238, 0.5) !important;
}

/* Page family - waveform en vert (même couleur que le footer) */
body:has(#family-root) #sbp-footer-waveform > div > div > div {
	background-color: #22C55E !important; /* Green-500 */
}
/* Assurer que les barres jouées restent visibles sur family */
body:has(#family-root) #sbp-footer-waveform [class*="bg-green-500"] {
	opacity: 1 !important;
	background-color: #22C55E !important;
}
/* Barres non jouées avec opacité réduite */
body:has(#family-root) #sbp-footer-waveform [class*="bg-green-500/50"] {
	opacity: 0.5 !important;
	background-color: rgba(34, 197, 94, 0.5) !important;
}

/* (supprimé) Les overrides globaux de classes utilitaires sur la page shop provoquaient des re-styles tardifs */

iframe[src*="youtube.com"]::-webkit-media-controls-panel {
	display: none !important;
}

iframe[src*="youtube.com"]::-webkit-media-controls-play-button {
	display: none !important;
}

iframe[src*="youtube.com"]::-webkit-media-controls-timeline {
	display: none !important;
}

iframe[src*="youtube.com"]::-webkit-media-controls-current-time-display {
	display: none !important;
}

iframe[src*="youtube.com"]::-webkit-media-controls-time-remaining-display {
	display: none !important;
}

iframe[src*="youtube.com"]::-webkit-media-controls-mute-button {
	display: none !important;
}

iframe[src*="youtube.com"]::-webkit-media-controls-volume-slider {
	display: none !important;
}

iframe[src*="youtube.com"]::-webkit-media-controls-fullscreen-button {
	display: none !important;
}

/* Masquer les overlays YouTube */
iframe[src*="youtube.com"]::after {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: transparent;
	pointer-events: none;
	z-index: 1;
}
